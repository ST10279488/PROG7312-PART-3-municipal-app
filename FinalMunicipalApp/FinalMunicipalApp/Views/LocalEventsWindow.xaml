<Window x:Class="FinalMunicipalApp.Views.LocalEventsWindow"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Local Events and Announcements"
        Height="650" Width="920"
        WindowStartupLocation="CenterOwner"
        Background="#F3F7FB">

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Background="White" CornerRadius="10" Padding="12" Margin="0,0,0,12" BorderBrush="#90CAF9" BorderThickness="1">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">

                <TextBlock Text="Category:" FontWeight="SemiBold" Foreground="#0D47A1" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <ComboBox x:Name="CboCategoryFilter" Width="160" Margin="4,0" Background="#E3F2FD" BorderBrush="#64B5F6"/>

                <TextBlock Text="Date:" FontWeight="SemiBold" Foreground="#0D47A1" VerticalAlignment="Center" Margin="12,0,6,0"/>
                <DatePicker x:Name="DatePickerFilter" Width="140" Margin="4,0" Background="#E3F2FD" BorderBrush="#64B5F6"/>

                <!-- Search -->
                <Grid Width="240" Margin="16,0,0,0">
                    <TextBox x:Name="TxtSearchQuery"
                             Padding="4"
                             Background="#E3F2FD"
                             BorderBrush="#64B5F6"
                             BorderThickness="1"/>

                    <!-- Watermark TextBlock -->
                    <TextBlock Text="Search events..."
                               Foreground="Gray"
                               Margin="8,2,0,0"
                               IsHitTestVisible="False"
                               VerticalAlignment="Center"
                               Visibility="Collapsed">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Text, ElementName=TxtSearchQuery}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Text.Length, ElementName=TxtSearchQuery}" Value="0">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </Grid>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="20,0,0,0">
                    <Button Content="Search" Width="90" Height="30" Margin="4"
                            Background="#1976D2" Foreground="White"
                            BorderBrush="#1565C0" BorderThickness="1"
                            Cursor="Hand" Click="BtnSearch_Click"
                            FontWeight="SemiBold"/>

                    <Button Content="Recommendations" Width="130" Height="30" Margin="4"
                            Background="#64B5F6" Foreground="White"
                            BorderBrush="#2196F3" BorderThickness="1"
                            Cursor="Hand" Click="BtnRecommend_Click"
                            FontWeight="SemiBold"/>

                    <Button Content="Add Event" Width="100" Height="30" Margin="4"
                            Background="#E3F2FD" Foreground="#1565C0"
                            BorderBrush="#64B5F6" BorderThickness="1"
                            Cursor="Hand" Click="BtnAddEvent_Click"
                            FontWeight="SemiBold"/>
                    
                    
                    
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Events List -->
        <Border Grid.Row="1" Background="White" CornerRadius="10" Padding="8" BorderBrush="#BBDEFB" BorderThickness="1">
            <ListView x:Name="LvEvents" Margin="4" BorderThickness="0" Background="White" AlternationCount="2">
                <ListView.Resources>
                    <Style TargetType="GridViewColumnHeader">
                        <Setter Property="Foreground" Value="#0D47A1"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Background" Value="#E3F2FD"/>
                        <Setter Property="Padding" Value="6"/>
                    </Style>

                    <Style TargetType="ListViewItem">
                        <Setter Property="Margin" Value="0,2"/>
                        <Setter Property="Padding" Value="6,4"/>
                        <Setter Property="Background" Value="White"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E3F2FD"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#BBDEFB"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ListView.Resources>

                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Date" Width="120" DisplayMemberBinding="{Binding Date}" />
                        <GridViewColumn Header="Title" Width="320" DisplayMemberBinding="{Binding Title}" />
                        <GridViewColumn Header="Category" Width="160" DisplayMemberBinding="{Binding Category}" />
                        <GridViewColumn Header="Priority" Width="100" DisplayMemberBinding="{Binding Priority}" />
                        <GridViewColumn Header="Tags" Width="220" DisplayMemberBinding="{Binding TagsString}" />
                    </GridView>
                </ListView.View>
            </ListView>
        </Border>
        
        

        <!-- Status Text -->
        <TextBlock Grid.Row="2" x:Name="TxtStatus" FontStyle="Italic" Foreground="Gray" Margin="6,8,0,0"/>
        
        
        
    </Grid>
</Window>
